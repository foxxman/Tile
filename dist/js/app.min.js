(()=>{"use strict";const t=(t,e)=>{e.forEach(((e,i)=>{i===t?e.classList.remove("hidden"):e.classList.add("hidden")}))},e=t=>{t.classList.toggle("active")};var i,o;i=function(t){1==t?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(o=new Image).onload=o.onerror=function(){i(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",new LazyLoad({selector:"img"}),$("img.img-svg").each((function(){var t=$(this),e=t.attr("class"),i=t.attr("src");$.get(i,(function(i){var o=$(i).find("svg");void 0!==e&&(o=o.attr("class",e+" replaced-svg")),!(o=o.removeAttr("xmlns:a")).attr("viewBox")&&o.attr("height")&&o.attr("width")&&o.attr("viewBox","0 0 "+o.attr("height")+" "+o.attr("width")),t.replaceWith(o)}),"xml")})),(()=>{const t=document.querySelector(".header .open-menu"),e=document.querySelector(".sidebar-menu"),i=document.querySelector(".sidebar-menu__close");t.addEventListener("click",(()=>{e.classList.remove("hidden")})),i.addEventListener("click",(()=>{e.classList.add("hidden")})),e.querySelectorAll(".sidebar-menu__list").forEach((t=>(t=>{t.addEventListener("click",(t=>{const{target:e}=t,i=e.closest(".sidebar-menu__link_toggle");i&&(t.preventDefault(),i.parentNode.querySelector(".sidebar-menu__inner").classList.toggle("hidden"))}))})(t)))})(),new Swiper(".swiper",{loop:!0,navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},pagination:{el:".swiper-pagination",clickable:!0},spaceBetween:30,autoplay:{delay:4e3,disableOnIteration:!0}}),function(){function t(t){this.element=t,this.table=this.element.children(".cd-products-table"),this.tableHeight=this.table.height(),this.productsWrapper=this.table.children(".cd-products-wrapper"),this.tableColumns=this.productsWrapper.children(".cd-products-columns"),this.products=this.tableColumns.children(".product"),this.productsNumber=this.products.length,this.productWidth=this.products.eq(0).width(),this.productsTopInfo=this.table.find(".top-info"),this.featuresTopInfo=this.table.children(".features").children(".top-info"),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.leftScrolling=!1,this.filterBtn=this.element.find(".filter"),this.resetBtn=this.element.find(".reset"),this.filtering=!1,this.selectedproductsNumber=0,this.filterActive=!1,this.navigation=this.table.children(".cd-table-navigation"),this.bindEvents()}t.prototype.bindEvents=function(){var t=this;t.productsWrapper.on("scroll",(function(){t.leftScrolling||(t.leftScrolling=!0,window.requestAnimationFrame?window.requestAnimationFrame((function(){t.updateLeftScrolling()})):setTimeout((function(){t.updateLeftScrolling()}),250))})),this.navigation.on("click","a",(function(e){e.preventDefault(),t.updateSlider($(e.target).hasClass("next"))}))},t.prototype.upadteFilterBtn=function(){this.selectedproductsNumber>=2?(this.filterActive=!0,this.filterBtn.addClass("active")):(this.filterActive=!1,this.filterBtn.removeClass("active"))},t.prototype.updateLeftScrolling=function(){parseInt(this.tableColumns.eq(0).outerWidth(!0)),parseInt(this.element.width());var t=this.productsWrapper.scrollLeft();t>0?this.table.addClass("scrolling"):this.table.removeClass("scrolling"),this.table.hasClass("top-fixed")&&"desktop"==n()&&(this.productsTopInfo,this.featuresTopInfo),this.leftScrolling=!1,this.updateNavigationVisibility(t)},t.prototype.updateNavigationVisibility=function(t){t>0?this.navigation.find(".prev").removeClass("inactive"):this.navigation.find(".prev").addClass("inactive"),t<this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&this.tableColumns.outerWidth(!0)>this.productsWrapper.width()?this.navigation.find(".next").removeClass("inactive"):this.navigation.find(".next").addClass("inactive")},t.prototype.updateTopScrolling=function(t){var e=this.table.offset().top;this.productsWrapper.scrollLeft(),e<=t&&e+this.tableHeight-this.topInfoHeight>=t||(e<=t?(this.table.removeClass("top-fixed").addClass("top-scrolling"),"desktop"==n()&&(this.productsTopInfo.css("top",this.tableHeight-this.topInfoHeight+"px"),this.navigation.find("a").css("top",this.tableHeight-this.topInfoHeight+"px"))):(this.table.removeClass("top-fixed top-scrolling"),this.productsTopInfo.attr("style",""),this.navigation.find("a").attr("style",""))),this.updateLeftScrolling()},t.prototype.updateProperties=function(){this.tableHeight=this.table.height(),this.productWidth=this.products.eq(0).width(),this.topInfoHeight=this.featuresTopInfo.innerHeight()+30,this.tableColumns.css("width",this.productWidth*this.productsNumber+"px")},t.prototype.showSelection=function(){this.element.addClass("filtering"),this.filterProducts()},t.prototype.resetSelection=function(){this.tableColumns.css("width",this.productWidth*this.productsNumber+"px"),this.element.removeClass("no-product-transition"),this.resetProductsVisibility()},t.prototype.filterProducts=function(){var t=this,e=(t.tableColumns.offset().left,t.productsWrapper.scrollLeft(),this.products.filter(".selected")),i=e.length;e.each((function(o){var s=$(this);t.productWidth,s.offset().left,o==i-1&&s.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){setTimeout((function(){t.element.addClass("no-product-transition")}),50),setTimeout((function(){t.element.addClass("filtered"),t.productsWrapper.scrollLeft(0),t.tableColumns.css("width",t.productWidth*i+"px"),e.attr("style",""),s.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),t.updateNavigationVisibility(0)}),100)}))})),$(".no-csstransitions").length>0&&(t.element.addClass("filtered"),t.productsWrapper.scrollLeft(0),t.tableColumns.css("width",t.productWidth*i+"px"),e.attr("style",""),t.updateNavigationVisibility(0))},t.prototype.resetProductsVisibility=function(){var t=this,e=(t.tableColumns.offset().left,this.products.filter(".selected"));e.length,t.productsWrapper.scrollLeft(),t.element.addClass("no-product-transition").removeClass("filtered"),t.products.each((function(e){$(this).hasClass("selected")&&t.productWidth})),setTimeout((function(){t.element.removeClass("no-product-transition filtering"),e.removeClass("selected").attr("style","")}),50)},t.prototype.updateSlider=function(t){var e=this.productsWrapper.scrollLeft();(e=t?e+this.productWidth:e-this.productWidth)<0&&(e=0),e>this.tableColumns.outerWidth(!0)-this.productsWrapper.width()&&(e=this.tableColumns.outerWidth(!0)-this.productsWrapper.width()),this.productsWrapper.animate({scrollLeft:e},200)};var e=[];$(".cd-products-comparison-table").each((function(){e.push(new t($(this)))}));var i=!1;$(window).on("scroll",(function(){i||(i=!0,window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,250))}));var o=!1;function s(){var t=$(window).scrollTop();e.forEach((function(e){e.updateTopScrolling(t)})),i=!1}function r(){e.forEach((function(t){t.updateProperties()})),o=!1}function n(){return window.getComputedStyle(e[0].element.get(0),"::after").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}$(window).on("resize",(function(){o||(o=!0,window.requestAnimationFrame?window.requestAnimationFrame(r):setTimeout(r,250))}))}(),0!==document.querySelectorAll(".review-slider__changer").length&&(console.log(!0),document.querySelectorAll(".review-slider__changer").forEach((t=>t.addEventListener("click",(({target:e})=>{e.closest("button").classList.contains("review-slider__changer-active")||(t.querySelectorAll("button").forEach((t=>t.classList.toggle("review-slider__changer-active"))),t.closest(".review__content").querySelectorAll(".review-slider").forEach((t=>t.classList.toggle("review-slider-hidden"))))})))),(()=>{let e=0;const i=document.querySelector(".review");if(i){const o=i.querySelectorAll(".review__track .review__content"),s=i.querySelector(".review__changer .review__changer-previous"),r=i.querySelector(".review__changer .review__changer-next");t(e,o),r.addEventListener("click",(()=>{++e===o.length&&(e=0),t(e,o)})),s.addEventListener("click",(()=>{--e<0&&(e=o.length-1),t(e,o)}))}})()),document.querySelectorAll(".items-track").forEach((t=>{t.addEventListener("click",(({target:e})=>{const i=e.closest(".sale-img-btn");if(i){let e=0;t.querySelectorAll(".sale-img-btn").forEach(((o,s)=>{o===i&&(e=s),t.closest(".catalog__block__sale-images").querySelectorAll(".image-item").forEach(((t,i)=>{i===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}))}}))})),document.querySelectorAll(".drops-block").forEach((t=>{(t=>{const e=t.querySelector(".catalog__dropdown"),i=t.querySelectorAll(".catalog__block__sales-list");((t,e,i)=>{t.forEach(((t,e)=>{0===e?t.classList.add("catalog__dropdown-active"):t.classList.remove("catalog__dropdown-active")})),e.forEach((e=>{e.dataset.list===t[0].dataset.list?e.classList.remove("hidden"):e.classList.add("hidden")}))})(e.querySelectorAll("button"),i),e.addEventListener("click",(({target:t})=>{const o=t.closest("button");if(o){const t=o.dataset.list;e.querySelectorAll("button").forEach((t=>{t===o?t.classList.add("catalog__dropdown-active"):t.classList.remove("catalog__dropdown-active")})),i.forEach((e=>{e.dataset.list===t?e.classList.remove("hidden"):e.classList.add("hidden")}))}}))})(t)})),(()=>{const t=document.querySelectorAll(".collapses");console.log(t),t.forEach((t=>{(t=>{const e=t.querySelector(".collapse-btn"),i=t.querySelector(".collapse-block");i.querySelector(".collapse-limiting"),i.classList.contains("collapse")?e.innerHTML="Развернуть":e.innerHTML="Свернуть",e.addEventListener("click",(()=>((t,e,i)=>{t.classList.contains("collapse")?e.innerHTML="Свернуть":e.innerHTML="Развернуть",t.classList.toggle("collapse"),e.classList.toggle("collapsed")})(i,e)))})(t)}))})(),document.querySelectorAll(".product-cost__number").forEach((t=>(t=>{if(t){const e=t.querySelector("input"),i=t.querySelector(".product-cost__number-more"),o=t.querySelector(".product-cost__number-less");e.value=1,i.addEventListener("click",(()=>{const t=Number(e.value);e.value=t+1})),o.addEventListener("click",(()=>{const t=Number(e.value);e.value=t-1,Number(e.value)<0&&(e.value=0)}))}})(t))),document.querySelectorAll(".magnify-wrapper").forEach((t=>{var e;(e=t).addEventListener("mousemove",(function(t){const i=e.querySelector("img"),o=e.querySelector(".large-img").style,s=t.clientX-i.getBoundingClientRect().left,r=t.clientY-i.getBoundingClientRect().top,n=i.width,l=i.height;let a=s/n*100,c=r/l*100;o.background=` url('${i.src}') no-repeat`,o.backgroundSize="600% 600%",s>.01*n&&(a+=.15*a),r>=.01*l&&(c+=.15*c),o.backgroundPositionX=a-9+"%",o.backgroundPositionY=c-9+"%",o.left=s-90+"px",o.top=r-90+"px"}),!1)})),document.querySelectorAll("[data-zoom-slider]").forEach((t=>(t=>{const e=t.querySelector("[data-zoom-content]").querySelectorAll("[data-zoom-order]");t.querySelector("[data-zoom-list]").addEventListener("click",(({target:t})=>{const i=t.closest("[data-zoom-order]");if(i){const t=i.dataset.zoomOrder;e.forEach((e=>{e.dataset.zoomOrder===t?e.classList.remove("hidden"):e.classList.add("hidden")}))}}))})(t))),document.querySelectorAll(".accordion").forEach((t=>{var e;(e=t).querySelector(".accordion-btn").addEventListener("click",(()=>{e.classList.toggle("active")}))})),document.querySelectorAll(".favourite-buttons").forEach((t=>t.addEventListener("click",(({target:t})=>{const i=t.closest(".favourite-button");i&&i.classList.contains("favourite-button__like")||i&&i.classList.contains("favourite-button__scales")?(t=>{e(t)})(i):i&&i.classList.contains("favourite-button__cross")?(t=>{console.log(t)})(i):i&&i.classList.contains("favourite-button__check")&&(t=>{e(t)})(i)}))))})();